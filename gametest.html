<!doctype html>
<html>

<head>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Test</title>
    <link href="main2.css" rel="stylesheet" type="text/css" />
    
</head>
    
<body>
    
    <center>
        
        <h1>Game Test</h1>
        <p> Welcome! I am just testing out a game, not much to see here... yet.</p>
            <br>
    <canvas id="myCanvas" width="600" height="400" style="border:1px solid #000000;"></canvas>
        <br>
        <br>
    <p>You can use the arrow keys or the WASD keys to move your character! <br>
    Also, the space bar can be pressed for invisibility.</p>
    <p>Skins:</p>
        <input type="radio" value="Default" onclick="DefaultSkin()" name="skin"> Default <input type="radio" value="Deadpool" onclick="DeadpoolSkin()" name="skin"> Deadpool <input type="radio" value="SpiderGwen" onclick="SpiderGwenSkin()" name="skin"> Spider-Gwen
        <br>
        <p> (Move left or right after selecting a skin) </p>
        <br>
    <button onclick="Homepage()" class="button-xlarge">Homepage</button>
    </center>
    
</body>
    
<script>
    
    var SkinRight = "files/right.png";
    var SkinLeft = "files/left.png";
    
    function DefaultSkin() {
        SkinRight = "files/right.png";
        SkinLeft = "files/left.png";
    }
    
    function DeadpoolSkin() {
        SkinRight = "files/right2.png";
        SkinLeft = "files/left2.png";
    }
    
    function SpiderGwenSkin() {
        SkinRight = "files/right3.png";
        SkinLeft = "files/left3.png";
    }
    
    function reDraw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        //ctx.fillRect(0,0,canvas.width,canvas.height);
        ctx.drawImage(bgImg, 0, 0);
        ctx.drawImage(HeroImage, HeroX, HeroY);
    }
    
    var Score = 0;
    var Health = 20;
    
    var clearCount = 0;
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    var HeroY = 152;
    var HeroX = 275;
    var HeroW = 50;
    var HeroH = 50;
    
    var bgImg = new Image();
    bgImg.onload = function () {
        ctx.drawImage(bgImg, 0, 0);
    }
    bgImg.src = "files/bg.png";
    
    var HeroImage = new Image();
    HeroImage.onload = function () {
        ctx.drawImage(HeroImage, HeroX, HeroY);
    }
    HeroImage.src = "files/right.png";
    
    /*ctx.fillStyle = "#FF0000";
    ctx.fillRect(0,0,canvas.width,canvas.height);*/
    
    function HideHero() {
        if (clearCount % 2 == 0) {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            ctx.drawImage(bgImg, 0, 0);
        } else {
            reDraw();
        }
        clearCount++;
    }
    
    function Up() {
        if (clearCount % 2 == 0 && HeroY > 10) {
            HeroY = HeroY - 10;
            reDraw();
        }
    }
    
    function Down() {
        if (clearCount % 2 == 0 && HeroY < 300) {
            HeroY = HeroY + 10;
            reDraw();
        }
    }
    
    function Left() {
        if (clearCount % 2 == 0 && HeroX > 10) {
            HeroX = HeroX - 10;
            HeroImage.src = SkinLeft;
            reDraw();
        }
    }
    
    function Right() {
        if (clearCount % 2 == 0 && HeroX < 540) {
            HeroX = HeroX + 10;
            HeroImage.src = SkinRight;
            reDraw();
        }
    }
    
    //KEYLISTENER
    
    window.onkeyup = function(e) {
    
        var key = e.keyCode ? e.keyCode : e.which;
        
        if (key == 37 || key == 65) {
            Left();
        } else if (key == 38 || key == 87) {
            Up();
        } else if (key == 39 || key == 68) {
            Right();
        } else if (key == 40 || key == 83) {
            Down();
        } else if (key == 32) {
            HideHero();
        }
        
    }
    
    function Homepage() {
        
        window.location = "index.html";
        
    }
        
</script>

</html>